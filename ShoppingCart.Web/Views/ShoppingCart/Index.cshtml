
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div ng-app="theApp">
    <div>
        <div>
            <img src="~/Images/blank.gif" alt="" width="1" height="10"/>
            <div class="table" style="border-bottom:3px solid #3273d5;">
                <div class="row">
                    <div class="col-sm-3">Welcome Karen</div>
                    <div class="col-sm-6"><h3>Shopping Cart Using AngularJS, MVC and WCF</h3></div>
                    <div class="col-sm-3">Today date is: {{date | date:'yyyy-MM-dd'}}</div>
                </div>
            </div>
        </div>

        <div ng-controller="shoppingCtrl">
            <img src="~/Images/blank.gif" alt="" width="1" height="6"/>
            <table id="tblContainer" style="width:90%; table-layout:fixed;">
                <tr ng-show="showitem">
                    <td>
                        <table style="background-color:#FFFFFF; border:dashed 3px #6D7B8D; padding:5px;width:99%; table-layout:fixed;" cellpadding="2" cellspacing="2">
                            <tr style="height:50px; background-color:#336699; color:#FFFFFF; border:solid 1px #659EC7;">
                                <td><h3>Add Items to Cart</h3></td>
                            </tr>
                            <tr>
                                <td>
                                    <table>
                                        <tr>
                                            <td><img src="~/Images/{{item.imageName}}" /></td>
                                            <td width="30"></td>
                                            <td valign="top">
                                                <table style="color:#9F000F; font-size:large" cellpadding="4" cellspacing="6">
                                                    <tr>
                                                        <td><b>Item Code</b>:</td>
                                                        <td>{{item.itemID}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td><b>Item Name</b>:</td>
                                                        <td>{{item.itemName}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td><b>Price</b></td>
                                                        <td>:{{item.itemPrice | number:0}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td><b>Description</b></td>
                                                        <td>:{{item.description}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td align="center" colspan="2">
                                                            <table>
                                                                <tr>
                                                                    <td><input type="button" id="btnAdd" style="background-color: #4C792D; color:#FFFFFF; font-size:large; width:200px;" value="Add To Cart" ng-click="showCart()" /></td>
                                                                    <td rowspan="2"><img src="~/Images/shopping_cart72.png" /></td>
                                                                </tr>
                                                            </table>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </table>
                        <img src="~/Images/blank.gif" alt="" width="1" height="4" />
                    </td>
                </tr>
                
                <tr >
                    <td ng-show="showlist">
                        <div style="height: 350px; overflow-y:auto;width:99%;">
                            <table style="background-color:#FFFFFF; border:solid 2px #6D7B8D;padding:5px;width:99%; height:200px;" cellpadding="2" cellspacing="2">
                                <thead>
                                    <tr>
                                        <td colspan="6" align="right">
                                            <input type="button" value="Click for My Shopping Cart Items"
                                                   style="background-color:#4C792D; color:#FFFFFF; font-size:large;" ng-click="dispCart()" />
                                        </td>
                                    </tr>
                                    <tr style="height:30px; background-color: #336699; color:#FFFFFF; border:solid 1px #659EC7;">
                                        <td width="40" align="center"><b>Image</b></td>
                                        <td width="40" align="center" style="border:solid 1px #FFFFFF;"><b>Item Code</b></td>
                                        <td width="100" align="center" style="border:solid 1px #FFFFFF;"><b>Item Name</b></td>
                                        <td width="120" align="center" style="border:solid 1px #FFFFFF;"><b>Description</b></td>
                                        <td width="60" align="center" style="border: solid 1px #FFFFFF;"><b>Price</b></td>
                                        <td width="70" align="center"><b>User Name</b></td>
                                    </tr>
                                    <tr style="height:30px; background-color: #336699; color:#FFFFFF; border:solid 1px #659EC7;">
                                        <td width="40" align="center"><b>Filter by</b></td>
                                        <td width="40" align="center" style="border:solid 1px #FFFFFF;"><input style="width:100px;" ng-model="search.itemID" placeholder="Item Code" /></td>
                                        <td width="100" align="center" style="border:solid 1px #FFFFFF;"><input style="width:100px;" ng-model="search.itemName" placeholder="Item Name" /></td>
                                        <td width="120" align="center" style="border:solid 1px #FFFFFF;"><input style="width:100px;" ng-model="search.description" placeholder="Description" /></td>
                                        <td width="60" align="center" style="border: solid 1px #FFFFFF;"><input style="width:100px;" ng-model="search.price" placeholder="Price" /></td>
                                        <td width="70" align="center"><input style="width:100px;" ng-model="search.addedBy" placeholder="User Name" /></td>
                                    </tr>
                                </thead>
                                <tbody ng-repeat="one in lists">
                                    <tr>
                                        <td align="center" style="border:solid 1px #659EC7;">
                                            <img src="~/Images/{{one.imageName}}" alt="{{one.itemName}}"
                                                 style="width:48px; height:48px;" ng-click="selectItem(one)" />
                                        </td>
                                        <td align="center" style="border:solid 1px #659EC7;">{{one.itemID}}</td>
                                        <td align="center" style="border:solid 1px #659EC7;">{{one.itemName}}</td>
                                        <td align="center" style="border:solid 1px #659EC7;">{{one.description}}</td>
                                        <td align="center" style="border:solid 1px #659EC7;">{{one.itemPrice|number:0}}</td>
                                        <td align="center" style="border:solid 1px #659EC7;">{{one.addedBy}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>                         
                    </td>
                </tr>

            <tr >
                <td ng-show="showcart">
                    <div style=" height:200px; overflow-y:auto;">
                        <table style="width:99%;">
                            <tr>
                                <td align="right" colspan="9">
                                    <input type="button" value="Add More Items" style="background-color:#334668; color:#FFFFFF; font-size:large; border-style: dashed;" ng-click="showlists()" />
                                </td>
                            </tr>
                            <tr style="background-color:#336699; color:#FFFFFF; border:solid 1px #659EC7;">
                                <td width="40"></td>
                                <td width="60" align="center">Image</td>
                                <td width="100" align="center" style="border: solid 1px #FFFFFF">Item Code</td>
                                <td width="100" align="center" style="border: solid 1px #FFFFFF">Item Name</td>
                                <td width="100" align="center" style="border: solid 1px #FFFFFF">Description</td>
                                <td width="100" align="center" style="border: solid 1px #FFFFFF">Item Price</td>
                                <td width="60" align="center" style="border: solid 1px #FFFFFF">Quantity</td>
                                <td width="100" align="center" style="border: solid 1px #FFFFFF">Total Price</td>
                                <td></td>
                            </tr>
                            <tbody>
                                <tr style="height:30px; border: solid 1px #659EC7;" ng-repeat="cartItem in cartlists">
                                    <td align="center">{{index+1}}</td>
                                    <td align="center" style="border:solid 1px #659EC7;"><img src="~/Images/{{cartItem.imageName}}" alt="{{}}" style="height:48px; width:48px;" /></td>
                                    <td align="center" style="border:solid 1px #659EC7;">{{cartItem.itemID}}</td>
                                    <td align="center" style="border:solid 1px #659EC7;">{{cartItem.itemName}}</td>
                                    <td align="center" style="border:solid 1px #659EC7;">{{cartItem.description}}</td>
                                    <td align="center" style="border:solid 1px #659EC7;">{{cartItem.itemPrice | number:0}}</td>
                                    <td align="center" style="border:solid 1px #659EC7;">{{cartItem.itemCount}}</td>
                                    <td align="center" style="border:solid 1px #659EC7;">{{cartItem.itemCount * cartItem.itemPrice | number:2}}</td>
                                    <td align="center" style="border:solid 1px #659EC7;"><input type="button" style="background-color: #E11919;color:#FFFFFF; font-size:large; " value="Remove Item From Cart" ng-click="removeCartitem(index)" /></td>
                                </tr>
                            </tbody>
                            <tr>
                                <td colspan="5"></td>
                                <td align="center"><b>Price</b>:{{totalPrice | number:0}}</td>
                                <td align="center"><b>Qty</b>:{{totalQuantity | number:0}}</td>
                                <td align="center"><b>Sum</b>:{{totalAmount | number:0}}</td>
                            </tr>
                        </table>
                    </div>                   
                </td>
            </tr>
            </table>
        </div>
    </div>
</div>
<script src="~/Scripts/Libs/angular.js"></script>
<script src="~/Scripts/Libs/angular.min.js"></script>
<script src="~/Scripts/Libs/angular-file-upload.min.js"></script>
<script src="~/Scripts/angularjs/app.js"></script>
<script src="~/Scripts/angularjs/model.js"></script>
<script src="~/Scripts/angularjs/controllers.js"></script>



